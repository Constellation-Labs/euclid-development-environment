FROM ubuntu-with-java-and-sbt

ARG GIT_PERSONAL_ACCESS_TOKEN
ARG P12_FILE_NAME_GENESIS
ARG P12_FILE_NAME_NODE_2
ARG P12_FILE_KEY_ALIAS_GENESIS
ARG P12_FILE_KEY_ALIAS_NODE_2
ARG P12_FILE_PASSWORD_GENESIS
ARG P12_FILE_PASSWORD_NODE_2

ENV LC_ALL C.UTF-8
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US.UTF-8

ENV GITHUB_TOKEN=${GIT_PERSONAL_ACCESS_TOKEN}
ENV CL_KEYSTORE_GENESIS=${P12_FILE_NAME_GENESIS}
ENV CL_KEYSTORE_NODE_2=${P12_FILE_NAME_NODE_2}
ENV CL_KEYALIAS_GENESIS=${P12_FILE_KEY_ALIAS_GENESIS}
ENV CL_KEYALIAS_NODE_2=${P12_FILE_KEY_ALIAS_NODE_2}
ENV CL_PASSWORD_GENESIS=${P12_FILE_PASSWORD_GENESIS}
ENV CL_PASSWORD_NODE_2=${P12_FILE_PASSWORD_NODE_2}

COPY p12-files/${P12_FILE_NAME_NODE_2} ${P12_FILE_NAME_NODE_2}
COPY p12-files/${P12_FILE_NAME_GENESIS} genesis/${P12_FILE_NAME_GENESIS}